<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pomodoro Timer</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', sans-serif;
    }

    body {
      background-color: #000000;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      transition: background-color 1s cubic-bezier(0.68, -0.55, 0.265, 1.55); 
      position: relative;
    }

    .timer-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .timer {
      font-size: 96px;
      color: white;
      user-select: none;
      min-width: 180px;
      text-align: center;
    }

    .button-row {
      margin-top: 20px;
      display: flex;
      gap: 12px;
      justify-content: center;
      width: 100%;
    }

    button {
      padding: 12px 36px;
      font-size: 18px;
      border: 1.5px solid rgba(255, 255, 255, 0.35);
      border-radius: 30px;
      cursor: pointer;
      backdrop-filter: blur(12px) saturate(180%);
      color: white;
      box-shadow:
        inset 0 0 0.8px rgba(255, 255, 255, 0.5),
        0 6px 35px rgba(0, 0, 0, 0.3);
      transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
      background-color: rgba(255, 255, 255, 0.10);
    }

    /* ðŸŸ¢ Green Liquid Glass Start */
    .start-btn {
      margin-top: 0px;
      background-color: rgba(30, 130, 50, 0.3);
      border-color: rgba(30, 130, 50, 0.6);
    }

    .start-btn:hover {
      background-color: rgba(30, 130, 50, 0.45);
      box-shadow:
        inset 0 0 3px rgba(30, 130, 50, 0.7),
        0 8px 40px rgba(30, 130, 50, 0.5);
      transform: scale(1.5);
    }

    /* ðŸŸ  Orange Liquid Glass Pause */
    .pause-btn {
      background-color: rgba(255, 165, 0, 0.3);
      border-color: rgba(255, 165, 0, 0.6);
    }

    .pause-btn:hover {
      background-color: rgba(255, 165, 0, 0.45);
      box-shadow:
        inset 0 0 3px rgba(255, 165, 0, 0.7),
        0 8px 40px rgba(255, 165, 0, 0.5);
      transform: scale(1);
    }

    /* ðŸ”´ Red Liquid Glass Minus */
    .minus-btn {
      background-color: rgba(183, 28, 28, 0.3);
      border-color: rgba(183, 28, 28, 0.6);
    }

    .minus-btn:hover {
      background-color: rgba(183, 28, 28, 0.45);
      box-shadow:
        inset 0 0 3px rgba(183, 28, 28, 0.7),
        0 8px 40px rgba(183, 28, 28, 0.5);
      transform: scale(1);
    }

    /* Focus glow */
    button:focus {
      outline: none;
      box-shadow:
        0 0 0 3px rgba(255, 255, 255, 0.2),
        0 0 25px rgba(255, 255, 255, 0.3);
    }

    .hidden {
      display: none;
    }

    .credit {
      position: absolute;
      bottom: 10px;
      right: 20px;
      font-size: 14px;
      color: #999;
      user-select: none;
    }
  </style>
</head>
<body>

  <div class="timer-container">
    <div class="timer" id="timerDisplay">00:00</div>
    <div class="button-row">
      <button class="pause-btn hidden" id="pauseBtn">Pause</button>
      <button class="minus-btn hidden" id="minusBtn">-1 min</button>
    </div>
  </div>

  <button class="start-btn" id="startBtn">Start</button>

  <div class="credit">2025 by itsphatto</div>

  <script>
    const timerDisplay = document.getElementById('timerDisplay');
    const startButton = document.getElementById('startBtn');
    const pauseButton = document.getElementById('pauseBtn');
    const minusButton = document.getElementById('minusBtn');

    let isWorkTime = true;
    let interval = null;
    let transitionInterval = null;
    let remainingSeconds = 0;
    let totalSeconds = 0;
    let isPaused = false;

    const green = [22, 65, 24];
    const red = [183, 28, 28];

    startButton.addEventListener('click', () => {
      startButton.classList.add('hidden');
      pauseButton.classList.remove('hidden');
      minusButton.classList.remove('hidden');
      startSession(25 * 60);
    });

    pauseButton.addEventListener('click', () => {
      isPaused ? resumeTimer() : pauseTimer();
    });

    minusButton.addEventListener('click', () => {
      remainingSeconds = Math.max(0, remainingSeconds - 60);
      updateDisplay(remainingSeconds);
      updateBackground();
    });

    function startSession(seconds) {
      remainingSeconds = seconds;
      totalSeconds = seconds;
      isPaused = false;
      pauseButton.textContent = 'Pause';
      updateDisplay(remainingSeconds);
      clearIntervals();

      transitionInterval = setInterval(() => {
        if (!isPaused) {
          const t = 1 - (remainingSeconds / totalSeconds);
          const r = Math.round((isWorkTime ? green[0] : red[0]) + t * ((isWorkTime ? red[0] : green[0]) - (isWorkTime ? green[0] : red[0])));
          const g = Math.round((isWorkTime ? green[1] : red[1]) + t * ((isWorkTime ? red[1] : green[1]) - (isWorkTime ? green[1] : red[1])));
          const b = Math.round((isWorkTime ? green[2] : red[2]) + t * ((isWorkTime ? red[2] : green[2]) - (isWorkTime ? green[2] : red[2])));
          document.body.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
        }
      }, 1000);

      interval = setInterval(() => {
        if (!isPaused) {
          remainingSeconds--;
          updateDisplay(remainingSeconds);
          updateBackground();
          if (remainingSeconds <= 0) {
            clearIntervals();
            document.body.style.backgroundColor = `rgb(${isWorkTime ? red[0] : green[0]}, ${isWorkTime ? red[1] : green[1]}, ${isWorkTime ? red[2] : green[2]})`;
            isWorkTime = !isWorkTime;
            startSession(isWorkTime ? 25 * 60 : 5 * 60);
          }
        }
      }, 1000);
    }

    function pauseTimer() {
      isPaused = true;
      pauseButton.textContent = 'Resume';
    }

    function resumeTimer() {
      isPaused = false;
      pauseButton.textContent = 'Pause';
    }

    function updateDisplay(seconds) {
      const min = String(Math.floor(seconds / 60)).padStart(2, '0');
      const sec = String(seconds % 60).padStart(2, '0');
      timerDisplay.textContent = `${min}:${sec}`;
    }

    function updateBackground() {
      if (isPaused) return;
      const t = 1 - (remainingSeconds / totalSeconds);
      const from = isWorkTime ? green : red;
      const to = isWorkTime ? red : green;
      const r = Math.round(from[0] + t * (to[0] - from[0]));
      const g = Math.round(from[1] + t * (to[1] - from[1]));
      const b = Math.round(from[2] + t * (to[2] - from[2]));
      document.body.style.backgroundColor = `rgb(${r}, ${g}, ${b})`;
    }

    function clearIntervals() {
      clearInterval(interval);
      clearInterval(transitionInterval);
    }
  </script>

</body>
</html>
